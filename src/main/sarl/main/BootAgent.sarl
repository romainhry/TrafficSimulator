/** 
 * 
 */
package main

import io.sarl.core.AgentKilled
import io.sarl.core.AgentSpawned
import io.sarl.core.ContextJoined
import io.sarl.core.ContextLeft
import io.sarl.core.Destroy
import io.sarl.core.Initialize
import io.sarl.core.Logging
import io.sarl.core.MemberJoined
import io.sarl.core.MemberLeft
import io.sarl.core.Lifecycle
import model.Car.CarObject
import io.sarl.core.DefaultContextInteractions
import Controllers.Controller
//import agents.CarAgent
import GUI.CarGUI
import model.road.GraphCreator

/** 
 * @author gero_
 * 
 */

agent BootAgent {
	uses Logging, Lifecycle, DefaultContextInteractions
	var nbCars : int //should get it from the env
	on Initialize {
		var gc : GraphCreator
		gc.city1
		var args : String[]
		Main.main(args)
		info("Start the agent")
		/*nbCars = 10 ;
		for (i : 0 ..< nbCars) {
			//define a capacity where there's a def createCar
			//var CarBody = createCar(perceptionDistance)
			var CarBody = new CarObject(0,0)
			spawnInContextWithID(typeof(CarAgent), CarBody.UID, defaultContext)
			Controller.addtoroadgui("../../Images/car.png", CarBody.UID)
		}*/
	}
	on Destroy {
		// Event trigger when the agent is destroyed from the system.
		// You should put all the resource releasing statements in this block of code.
		info("Stop the agent")
	}

	on AgentSpawned {
		// A new agent has been spawned in our context.
	}
	
	on AgentKilled {
		// A new agent has been killed in our context.
	}

	on ContextJoined {
		// Event trigger when an agent of the level joins a shared context.
		// Sent to a agent of the same level.
	}

	on ContextLeft {
		// Event trigger when an agent of the level jleaves a shared context.
		// Sent to a agent of the same level.
	}

	on MemberJoined {
		// Event trigger when an agent joins one of our shared super-holons.
		// Sent to all members of the considered super-holon.
	}

	on MemberLeft {
		// Event trigger when an agent leaves one of our shared super-holons.
		// Sent to all members of the considered super-holon.
	}
}
